#!/bin/bash

# SpeedyCRM Orphaned Files Cleanup Script
# Generated: 2025-12-09
# BACKUP FIRST: git commit -am "Backup before cleanup"

echo "ğŸ§¹ SpeedyCRM Orphaned Files Cleanup - Phase 2"
echo "=============================================="
echo ""
echo "âš ï¸  WARNING: This will DELETE orphaned files"
echo "ğŸ“¦ Make sure you have a backup commit!"
echo ""
echo "Files to be deleted:"
echo "  - 10 migration/utility scripts"
echo "  - 41 orphaned standalone pages"
echo "  - 1 restore directory"
echo ""
read -p "Continue? (yes/no): " confirm

if [ "$confirm" != "yes" ]; then
    echo "âŒ Aborted."
    exit 1
fi

# Navigate to project root
cd /home/user/my-clever-crm

echo ""
echo "ğŸ”„ Deleting migration/utility scripts..."
rm -f src/utils/createCollections.js && echo "  âœ… Deleted createCollections.js"
rm -f src/utils/seedProducts.js && echo "  âœ… Deleted seedProducts.js"
rm -f src/utils/initializeDisputeCollection.js && echo "  âœ… Deleted initializeDisputeCollection.js"
rm -f src/utils/initSocialCollections.js && echo "  âœ… Deleted initSocialCollections.js"
rm -f src/utils/fixProcessedField.js && echo "  âœ… Deleted fixProcessedField.js"
rm -f src/utils/migrateToAutomatedPipeline.js && echo "  âœ… Deleted migrateToAutomatedPipeline.js"
rm -f src/utils/migrateLeads.js && echo "  âœ… Deleted migrateLeads.js"
rm -f src/utils/reprocessCallerNames.js && echo "  âœ… Deleted reprocessCallerNames.js"
rm -f src/utils/processExistingCalls.js && echo "  âœ… Deleted processExistingCalls.js"
rm -f src/utils/fixAllCallerNames.js && echo "  âœ… Deleted fixAllCallerNames.js"

echo ""
echo "ğŸ”„ Deleting orphaned standalone pages (replaced by Hubs)..."
rm -f src/pages/AICommandCenter.jsx && echo "  âœ… Deleted AICommandCenter.jsx (replaced by AIHub)"
rm -f src/pages/AIReceptionist.jsx && echo "  âœ… Deleted AIReceptionist.jsx (replaced by AIHub)"
rm -f src/pages/AddClient.jsx && echo "  âœ… Deleted AddClient.jsx (replaced by ClientsHub)"
rm -f src/pages/AdminAddendumFlow.jsx && echo "  âœ… Deleted AdminAddendumFlow.jsx (replaced by Addendums)"
rm -f src/pages/AdminTools.jsx && echo "  âœ… Deleted AdminTools.jsx (replaced by Portal)"
rm -f src/pages/Administration.jsx && echo "  âœ… Deleted Administration.jsx (replaced by SettingsHub)"
rm -f src/pages/AllActivityLog.jsx && echo "  âœ… Deleted AllActivityLog.jsx (replaced by ReportsHub)"
rm -f src/pages/Automation.jsx && echo "  âœ… Deleted Automation.jsx (replaced by AutomationHub)"
rm -f src/pages/Bulk.jsx && echo "  âœ… Deleted Bulk.jsx (replaced by ClientsHub)"
rm -f src/pages/ClientList.jsx && echo "  âœ… Deleted ClientList.jsx (replaced by ClientsHub)"
rm -f src/pages/ClientManagement.jsx && echo "  âœ… Deleted ClientManagement.jsx (replaced by ClientsHub)"
rm -f src/pages/ClientProfile.jsx && echo "  âœ… Deleted ClientProfile.jsx (replaced by ContactDetailPage)"
rm -f src/pages/ClientReports.jsx && echo "  âœ… Deleted ClientReports.jsx (replaced by ReportsHub)"
rm -f src/pages/CommunicationsCenter.jsx && echo "  âœ… Deleted CommunicationsCenter.jsx (replaced by CommunicationsHub)"
rm -f src/pages/Dashboard.jsx && echo "  âœ… Deleted Dashboard.jsx (replaced by SmartDashboard)"
rm -f src/pages/DisputeCenter.jsx && echo "  âœ… Deleted DisputeCenter.jsx (replaced by DisputeHub)"
rm -f src/pages/DisputeCreation.jsx && echo "  âœ… Deleted DisputeCreation.jsx (replaced by DisputeHub)"
rm -f src/pages/Disputes.jsx && echo "  âœ… Deleted Disputes.jsx (replaced by DisputeHub)"
rm -f src/pages/EditClient.jsx && echo "  âœ… Deleted EditClient.jsx (replaced by ClientsHub)"
rm -f src/pages/Export.jsx && echo "  âœ… Deleted Export.jsx (replaced by ContactExport)"
rm -f src/pages/FeaturesTutorials.jsx && echo "  âœ… Deleted FeaturesTutorials.jsx (replaced by LearningHub)"
rm -f src/pages/Help.jsx && echo "  âœ… Deleted Help.jsx (replaced by SupportHub)"
rm -f src/pages/ImportCSV.jsx && echo "  âœ… Deleted ImportCSV.jsx (replaced by ContactImport)"
rm -f src/pages/KnowledgeBase.jsx && echo "  âœ… Deleted KnowledgeBase.jsx (replaced by ResourceLibraryHub)"
rm -f src/pages/Leads.jsx && echo "  âœ… Deleted Leads.jsx (replaced by ClientsHub)"
rm -f src/pages/LeadsPage.jsx && echo "  âœ… Deleted LeadsPage.jsx (replaced by ClientsHub)"
rm -f src/pages/LiveTrainingSessions.jsx && echo "  âœ… Deleted LiveTrainingSessions.jsx (hub version kept)"
rm -f src/pages/Logout.jsx && echo "  âœ… Deleted Logout.jsx (handled by auth context)"
rm -f src/pages/ManageRoles.jsx && echo "  âœ… Deleted ManageRoles.jsx (replaced by Roles page)"
rm -f src/pages/Messages.jsx && echo "  âœ… Deleted Messages.jsx (replaced by CommunicationsHub)"
rm -f src/pages/OnboardingWizard.jsx && echo "  âœ… Deleted OnboardingWizard.jsx (hub version kept)"
rm -f src/pages/OpenAI.jsx && echo "  âœ… Deleted OpenAI.jsx (replaced by AIHub)"
rm -f src/pages/Permissions.jsx && echo "  âœ… Deleted Permissions.jsx (replaced by SettingsHub)"
rm -f src/pages/ProgressPortal.jsx && echo "  âœ… Deleted ProgressPortal.jsx (hub version kept)"
rm -f src/pages/ProgressTracker.jsx && echo "  âœ… Deleted ProgressTracker.jsx (hub version kept)"
rm -f src/pages/Referrals.jsx && echo "  âœ… Deleted Referrals.jsx (replaced by ReferralEngineHub)"
rm -f src/pages/RoleBasedTraining.jsx && echo "  âœ… Deleted RoleBasedTraining.jsx (hub version kept)"
rm -f src/pages/ScoreSimulator.jsx && echo "  âœ… Deleted ScoreSimulator.jsx (replaced by CreditSimulator)"
rm -f src/pages/Setup.jsx && echo "  âœ… Deleted Setup.jsx (onboarding handled elsewhere)"
rm -f src/pages/Simulator.jsx && echo "  âœ… Deleted Simulator.jsx (replaced by CreditSimulator)"
rm -f src/pages/SkinSwitcher.jsx && echo "  âœ… Deleted SkinSwitcher.jsx (skins version kept)"
rm -f src/pages/SocialMediaAdmin.jsx && echo "  âœ… Deleted SocialMediaAdmin.jsx (replaced by SocialMediaHub)"
rm -f src/pages/TrainingLibrary.jsx && echo "  âœ… Deleted TrainingLibrary.jsx (hub version kept)"
rm -f src/pages/WorkflowBuilder.jsx && echo "  âœ… Deleted WorkflowBuilder.jsx (replaced by AutomationHub)"

echo ""
echo "ğŸ”„ Deleting orphaned restore directory..."
rm -rf src/pages/restore/ && echo "  âœ… Deleted restore directory"

echo ""
echo "âœ… CLEANUP COMPLETE!"
echo ""
echo "ğŸ“Š Summary:"
echo "  â€¢ 10 migration scripts deleted"
echo "  â€¢ 41 orphaned pages deleted"
echo "  â€¢ 1 restore directory deleted"
echo "  â€¢ Total: 52 files deleted"
echo ""
echo "ğŸ¯ Next steps:"
echo "  1. Test the application: npm run dev"
echo "  2. Build production: npm run build"
echo "  3. Commit changes: git add -A && git commit -m 'chore: remove orphaned files (Phase 2 cleanup)'"
echo ""
echo "ğŸ’¡ Files kept for review:"
echo "  â€¢ AuthDebug.jsx (dev tool)"
echo "  â€¢ DatabaseDiagnostic.jsx (admin tool)"
echo "  â€¢ TestRunner.jsx (QA tool)"
echo "  â€¢ NotFound.jsx (needs routing)"
echo "  â€¢ Unauthorized.jsx (needs routing)"
echo "  â€¢ Profile.jsx (verify SettingsHub coverage)"
echo ""
